<!DOCTYPE html>
<!-- saved from url=(0045)https://smartsms.aligo.in/qna/popup_help.html -->
<html class="no-js" lang="ko"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>알리고 스마트문제 고객센터</title>
	<meta name="description" content="단문 8.4 장문25 그림 60원 최저가 단체문자,대량문자 발송">
	<script src="./jquery-latest.min.js.다운로드"></script>
	<meta name="viewport" content="width=device-width, user-scalable=no">
  <link rel="stylesheet" href="./help200429.css">
  <link rel="stylesheet" href="./nanumgothic.css">
	<script src="./polyfill.min.js.다운로드"></script>
</head>
<body style="">
<div class="help-popup-wrap">
  <div class="help-popup-header">
    <h2 class="help-popup-main">
      <img src="./bi-aligo-whtie.png">
      알리고 문자 고객센터 입니다.
    </h2>
    <h3 class="searchDone"><img src="./icon-back-white.png" onclick="closeContents()">알리고 문자 고객센터</h3>
  </div>
  <div class="help-popup-navigator">
    <ol class="help-popup-main">
      <li onclick="openChannelTalk()"><img src="./img-help-chat-small.png">실시간 채팅하기</li>
      <li onclick="openQuest(true)"><img src="./img-help-quest-small.png">1:1 문의하기</li>
      <li onclick="openQuest(false)"><img src="./img-help-request-small.png">기능 추가 요청</li>
      <li onclick="window.parent.location.href = &#39;/qna/help_mylist.html&#39;"><img src="./img-help-list-small.png">내 문의내역</li>
    </ol>
    <fieldset>
      <input id="faqSearch" type="text" placeholder="발신번호 추가 등록, 카드결제…">
    </fieldset>
    <ul id="searchList" class="searchDone">
    </ul>
    <div class="searchHelp">
      <button type="button" onclick="openQuest(true)">1:1문의하기</button>
      <button type="button" onclick="openQuest(false)">기능 추가 요청</button>
    </div>
  </div>
  <div class="help-popup-contents">
    <div>
      <h3 id="helpPopTitle"></h3>
      <h4 id="helpPopDate"></h4>
      <div id="helpPopContents"></div>
    </div>
    <div>
      <button type="button" onclick="openQuest(true)">1:1문의하기</button>
      <button type="button" onclick="openQuest(false)">기능 추가 요청</button>
    </div>
  </div>
</div>
<script>
  
  var page = 1;
  var pageSize = 10;
  var nextPage = false;
  var searchPoint = '';
  var openDetail = false;

  $('#faqSearch').keypress(function (e) {
    if (e.keyCode == 13) {
      // 검색시작
      page = 1;
      searchPoint = $('#faqSearch').val().replace(/([\!\@\#\$\%\^\&\*\(\)\_\+\-\=\>\<\>\,\/\?])/g, '  ').substring(0, 100);
      $('#faqSearch').val(searchPoint);
      searchStart('new');
    }
  });

  function searchStart (isNew) {
    // 검색 결과가 있을때 화면반영
    if (searchPoint.length > 0) {
      if (isNew) {
        $('#searchList').html('');
      }
      var searchList = '';
      $.ajax({
        url: "/api/cs.html",
        method: "POST",
        dataType: "JSON",
        data: { 
          command: 'cs_list',
          type: 'f',
          sch: searchPoint,
          page: page,
          pageSize: pageSize
        }
      }).done(function (data) {
        if (data.result > 0) {
          openDetail = false;
          var loadData = data.list.faq;
          if (loadData.length > 0) {
            for (var i = 0; i < loadData.length; i++) {
              searchList += '<li onclick="openContents(' + loadData[i].seq + ')"><h3>' + loadData[i].title + '</h3><p>' + loadData[i].contents.replace(/<(\/)?([a-zA-Z]*)(\s[a-zA-Z]*=[^>]*)?(\s)*(\/)?>/gm, '') + '</p></li>';
            }
            $('#searchList').append(searchList);
            $('.searchHelp').show();
            if (data.list.nextYn == 'Y') {
              nextPage = true;
            } else {
              nextPage = false;
            }
          } else {
            if ($('#searchList').html().length == 0) {
              $('#searchList').html('<li class="none">검색결과가 없습니다.</li>');
              $('.searchHelp').show();
            }
          }
          $('.help-popup-main').hide();
          $('.searchDone').show();
        } else {
          parent.showMsg(1, data.message);
        }
      });
    } else {
      $('.help-popup-main').show();
      $('.searchHelp').hide();
      $('.searchDone').hide();
    }
  }

  function openContents (seq) {
    if (seq) {
      openDetail = true;
      // 검색내용 상세보기
      $.ajax({
        url: "/api/cs.html",
        method: "POST",
        dataType: "JSON",
        data: { command: 'cs_detail', type: 'f', seq: seq }
      }).done(function (data) {
        if (data.result > 0) {
          $('#helpPopTitle').text(data.list.title);
          $('#helpPopDate').text(data.list.date);
          $('#helpPopContents').html(data.list.contents.replace(/target="_self"/gi, 'target="_blank"'));
          $('.help-popup-navigator').hide();
          $('.help-popup-contents').show();
        } else {
          parent.showMsg(1, data.message);
        }
      });
    } else {
      closeContents();
    }
  }

  function closeContents () {
    // 검색내용 닫기
    if (openDetail) {
      $('.help-popup-navigator').show();
      $('.help-popup-contents').hide();
      openDetail = false;
    } else {
      $('#searchList').scrollTop(0);
      $('.help-popup-main').show();
      $('.searchDone').hide();
      $('.searchHelp').hide();
      $('#searchList').html('');
    }
  }

  function openQuest (boolean) {
    // 팝업에서 문의페이지로 이동하기
    if (boolean) {
      // window.open('/qna/help_quest.html');
      window.parent.location.href = '/qna/help_quest.html?ref='+ window.parent.location.pathname;
    } else {
      console.log(window.parent.location)
      window.parent.location.href = '/qna/help_quest.html?fu=Y&ref='+ window.parent.location.pathname;
    }
  }

  $('#searchList').scroll(function () {
    // 스크롤다운시 다음페이지가 있으면 불러오기
    var innerHeight = document.getElementById('searchList').scrollHeight;
    if ( $(this).scrollTop() > (innerHeight - 450) && nextPage ) {
      page++
      searchStart();
    }
  });

  function openChannelTalk () {
    window.parent.showPopCs();
    window.parent.openTalk();
  }

</script>

</body></html>